<!doctype html>
<style>
    :root{
        --bg:#0f172a;
        --card:#0b1220;
        --accent:#10b981;
        --muted:#94a3b8;}

    *{box-sizing:border-box;}
    
    body{
        font-family:Inter, system-ui, Arial, sans-serif;
        margin:16px;
        background:linear-gradient(180deg,#071024 0%, #081127 100%);
        color:#e6eef8;}

        h1{
            text-align:center;
            margin-bottom:20px;
            font-size:20px;}

        .grid{
            display:grid;
            grid-template-columns:repeat(4,1fr);
            gap:16px;
            max-width:1200px;
            margin:0 auto;}

        .card{
            background:rgba(255,255,255,0.03);
            border-radius:12px;
            padding:14px;
            display:flex;
            flex-direction:column;
            align-items:center;
            box-shadow:0 6px 18px rgba(2,6,23,0.6);
            min-height:140px;}

        .dungeon-name{
            text-align:center;
            font-weight:600;
            margin-bottom:10px;
            font-size:14px;
            color:var(--muted);}

        .counter-window{
            width:100%;
            background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
            border-radius:8px;
            padding:18px;
            display:flex;
            align-items:center;
            justify-content:center;
            font-size:34px;
            font-weight:700;
            color:#fff;}

        .controls{
            display:flex;
            gap:8px;
            margin-top:12px;}

        button{
            appearance:none;
            border:0;
            padding:8px 12px;
            border-radius:8px;
            font-weight:700;
            cursor:pointer;}

        .btn-plus{
            background:linear-gradient(180deg, #06b6d4, #0ea5a4);
            color:#042023;}

        .btn-minus{
            background:linear-gradient(180deg, #ef4444, #dc2626);
            color:#fff;}

        .small{
            font-size:13px;
            padding:6px 10px;}

        .footer{
            max-width:1200px;
            margin:18px auto 0;
            color:var(--muted);
            text-align:center;
            font-size:13px;}

        @media (max-width:1000px){.grid{grid-template-columns:repeat(2,1fr)}}
        @media (max-width:560px){.grid{grid-template-columns:1fr}}
</style>
<!-- <link rel="stylesheet" href="style.css"> -->
</head>
<body>
<h1>Mythic+</h1>
<div class="grid" id="grid">
<!-- cards generated by JS -->
</div>
<div class="footer">Použi tlačidlá + a - pod každým oknom. Minimálna hodnota je 0.</div>


<script>
const dungeons = [
"Eco‑Dome Al’dani",
"Ara‑Kara, City of Echoes",
"The Dawnbreaker",
"Priory of the Sacred Flame",
"Operation: Floodgate",
"Halls of Atonement",
"Tazavesh: Streets of Wonder",
"Tazavesh: So’leah’s Gambit"
];


const grid = document.getElementById('grid');


// create cards
dungeons.forEach((name, idx) => {
const card = document.createElement('div');
card.className = 'card';


const title = document.createElement('div');
title.className = 'dungeon-name';
title.textContent = name;


const counterWindow = document.createElement('div');
counterWindow.className = 'counter-window';
counterWindow.id = `counter-${idx}`;
counterWindow.textContent = '0';


const controls = document.createElement('div');
controls.className = 'controls';


const btnMinus = document.createElement('button');
btnMinus.className = 'btn-minus small';
btnMinus.setAttribute('aria-label', `Znížiť ${name}`);
btnMinus.textContent = '-';
btnMinus.addEventListener('click', () => change(idx, -1));


const btnPlus = document.createElement('button');
btnPlus.className = 'btn-plus small';
btnPlus.setAttribute('aria-label', `Zvýšiť ${name}`);
btnPlus.textContent = '+';
btnPlus.addEventListener('click', () => change(idx, +1));


controls.appendChild(btnMinus);
controls.appendChild(btnPlus);


card.appendChild(title);
card.appendChild(counterWindow);
card.appendChild(controls);


grid.appendChild(card);
});


// state
const counts = new Array(dungeons.length).fill(0);


function change(index, delta){
const newVal = Math.max(0, counts[index] + delta);
counts[index] = newVal;
document.getElementById(`counter-${index}`).textContent = newVal;
}


// optional: keyboard support (focus card with Tab, then +/- keys)
document.addEventListener('keydown', (e) => {
const active = document.activeElement;
if(!active) return;
// find card index if focus is inside a card
const card = active.closest && active.closest('.card');
if(!card) return;
const id = Array.from(grid.children).indexOf(card);
if(id === -1) return;
if(e.key === '+') change(id, 1);
if(e.key === '-') change(id, -1);
if(e.key === 'ArrowUp') change(id, 1);
if(e.key === 'ArrowDown') change(id, -1);
});

// načítanie uložených hodnôt z localStorage
const saved = JSON.parse(localStorage.getItem("dungeonCounts"));
if (saved) {
  saved.forEach((val, idx) => {
    counts[idx] = val;
    document.getElementById(`counter-${idx}`).textContent = val;
  });
}

// funkcia na zmenu + uloženie
function change(index, delta) {
  const newVal = Math.max(0, counts[index] + delta);
  counts[index] = newVal;
  document.getElementById(`counter-${index}`).textContent = newVal;

  // uloženie do localStorage
  localStorage.setItem("dungeonCounts", JSON.stringify(counts));
}
</script>
</body>
</html>